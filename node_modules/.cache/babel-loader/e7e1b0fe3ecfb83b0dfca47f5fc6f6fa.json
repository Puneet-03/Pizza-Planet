{"ast":null,"code":"var _jsxFileName = \"/home/huntik/Desktop/pizza_proj/pizza-planet-project/src/routes/payment/Payment.js\",\n  _s = $RefreshSig$();\nimport EmptyCart from \"../cart/EmptyCart.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Tick from \"../../assets/images/success-tick.png\";\nimport ResetLocation from \"../../helpers/ResetLocation\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { Link } from \"react-router-dom\";\nimport validateForm from \"../../components/validateForm\";\nimport { type } from \"@testing-library/user-event/dist/type/index.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Payment = _ref => {\n  _s();\n  let {\n    cartItems,\n    totalPayment\n  } = _ref;\n  const [formValue, setFormValue] = useState({\n    firstname: \"\",\n    lastname: \"\",\n    cardNumber: \"\",\n    cvv: \"\",\n    month: \"\",\n    year: \"\"\n  });\n  const [submit, setSubmit] = useState(false);\n  const [formError, setFormError] = useState({});\n  const [transactionId, setTransactionId] = useState(0);\n  const validate = validateForm(\"payment\");\n  const handleSubmit = e => {\n    e.preventDefault();\n    setFormError(validate(formValue));\n    console.log(validate(formValue));\n    const timeStamp = Date.now();\n    if (Object.keys(validate(formValue)).length > 0) {\n      return;\n    }\n    const userToken = sessionStorage.getItem(\"token\");\n    const couponCode = sessionStorage.getItem(\"coupon_code\");\n    console.log(userToken);\n    const transacId = `${timeStamp}`;\n    console.log(uuidv4());\n    setTransactionId(transacId);\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    myHeaders.append(\"Authorization\", `Bearer ${userToken}`);\n    console.log(transacId);\n    console.log(typeof transacId);\n    var dataSend = JSON.stringify({\n      transaction: {\n        transaction_id: transacId\n      },\n      coupons: {\n        coupon_code: couponCode\n      }\n    });\n    var requestOptions = {\n      method: \"POST\",\n      headers: myHeaders,\n      body: dataSend,\n      redirect: \"follow\"\n    };\n    fetch(\"http://localhost:8080/order/place\", requestOptions).then(response => {\n      console.log(response.status);\n      if (response.status === 400) {\n        window.alert(\"No Kitchens Available in your Area!\");\n        window.location.href = \"/cart\";\n        return;\n      }\n      if (!response.ok) {\n        console.log(\"error\", response);\n        return;\n      }\n    }).then(data => {\n      console.log(data);\n      setSubmit(true);\n    });\n    ResetLocation();\n  };\n  const handleValidation = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormValue({\n      ...formValue,\n      [name]: value\n    });\n  };\n  useEffect(() => {\n    document.title = \"Payment | Pizza Planet\";\n  }, []);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      children: submit && Object.keys(formError).length === 0 ? /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"success-payment\",\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"success-payment-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Your food is on the way!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Thank you for the order. We will update your order status once the restaurant confirms it.\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: Tick,\n          alt: \"\",\n          \"aria-hidden\": \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"payment-details\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Transaction id: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: transactionId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"success-payment-redirection\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            className: \"active-button-style\",\n            to: \"/profile\",\n            onClick: ResetLocation,\n            children: \"Visit Profile to Track your Orders\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/menu\",\n            onClick: ResetLocation,\n            children: \"Order something else\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"choose-payment\",\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"front\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"strip-bottom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"strip-top\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chip\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chip-line\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chip-line\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chip-line\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chip-line\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chip-main\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"wave\",\n              viewBox: \"0 3.71 26.959 38.787\",\n              width: \"26.959\",\n              height: \"38.787\",\n              fill: \"white\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M19.709 3.719c.266.043.5.187.656.406 4.125 5.207 6.594 11.781 6.594 18.938 0 7.156-2.469 13.73-6.594 18.937-.195.336-.57.531-.957.492a.9946.9946 0 0 1-.851-.66c-.129-.367-.035-.777.246-1.051 3.855-4.867 6.156-11.023 6.156-17.718 0-6.696-2.301-12.852-6.156-17.719-.262-.317-.301-.762-.102-1.121.204-.36.602-.559 1.008-.504z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M13.74 7.563c.231.039.442.164.594.343 3.508 4.059 5.625 9.371 5.625 15.157 0 5.785-2.113 11.097-5.625 15.156-.363.422-1 .472-1.422.109-.422-.363-.472-1-.109-1.422 3.211-3.711 5.156-8.551 5.156-13.843 0-5.293-1.949-10.133-5.156-13.844-.27-.309-.324-.75-.141-1.114.188-.367.578-.582.985-.542h.093z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M7.584 11.438c.227.031.438.144.594.312 2.953 2.863 4.781 6.875 4.781 11.313 0 4.433-1.828 8.449-4.781 11.312-.398.387-1.035.383-1.422-.016-.387-.398-.383-1.035.016-1.421 2.582-2.504 4.187-5.993 4.187-9.875 0-3.883-1.605-7.372-4.187-9.875-.321-.282-.426-.739-.266-1.133.164-.395.559-.641.984-.617h.094zM1.178 15.531c.121.02.238.063.344.125 2.633 1.414 4.437 4.215 4.437 7.407 0 3.195-1.797 5.996-4.437 7.406-.492.258-1.102.07-1.36-.422-.257-.492-.07-1.102.422-1.359 2.012-1.075 3.375-3.176 3.375-5.625 0-2.446-1.371-4.551-3.375-5.625-.441-.204-.676-.692-.551-1.165.122-.468.567-.785 1.051-.742h.094z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-number\",\n              children: formValue.cardNumber.length > 0 ? `${formValue.cardNumber}` : \"0123456789101112\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"end\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"end-text\",\n                children: \"exp. end:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"end-date\",\n                children: [\" \", formValue.month.length > 0 ? `${formValue.month}` : \"11\", \" /\", \" \", formValue.year.length > 0 ? `${formValue.year}` : \"22\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-holder\",\n              children: [\" \", formValue.firstname.length > 0 ? `${formValue.firstname}` : \"Name\", \" \", formValue.lastname.length > 0 ? `${formValue.lastname}` : \"Lastname\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"end cvv-text\",\n              children: [\"CVV \", formValue.cvv.length > 0 ? `${formValue.cvv}` : \"000\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"master\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"circle master-red\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"circle master-yellow\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"credit-card-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleValidation,\n            value: formValue.firstname,\n            name: \"firstname\",\n            type: \"text\",\n            placeholder: \"First name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"login-input-err\",\n            children: formError.firstname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleValidation,\n            value: formValue.lastname,\n            name: \"lastname\",\n            placeholder: \"Last name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"login-input-err\",\n            children: formError.lastname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleValidation,\n            value: formValue.cardNumber,\n            name: \"cardNumber\",\n            placeholder: \"Card number\",\n            maxLength: \"16\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"login-input-err\",\n            children: formError.cardNumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n            className: \"cvv-exp\",\n            children: [/*#__PURE__*/_jsxDEV(\"section\", {\n              className: \"cvv-input\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"cvv\",\n                onChange: handleValidation,\n                value: formValue.cvv,\n                name: \"cvv\",\n                placeholder: \"CVV\",\n                maxLength: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"login-input-err\",\n                children: [\" \", formError.cvv]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n              className: \"date-input\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"expiration-date\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  autoComplete: \"off\",\n                  id: \"month\",\n                  name: \"month\",\n                  placeholder: \"MM\",\n                  type: \"text\",\n                  maxLength: \"2\",\n                  max: \"2\",\n                  onChange: handleValidation,\n                  value: formValue.month\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  autoComplete: \"off\",\n                  id: \"year\",\n                  name: \"year\",\n                  placeholder: \"YY\",\n                  type: \"text\",\n                  maxLength: \"2\",\n                  max: \"2\",\n                  onChange: handleValidation,\n                  value: formValue.year\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"login-input-err\",\n                children: formError.year\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \" active-button-style\",\n            children: \"Proceed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n_s(Payment, \"4IhSsNacHQGrJKk4WqxV7ydM7mc=\");\n_c = Payment;\nexport default Payment;\n\n// // This is a public sample test API key.\n// // Don’t submit any personally identifiable information in requests made with this key.\n// // Sign in to see your own test API key embedded in code samples.\n// const stripe = Stripe(\"pk_test_51BTUDGJAJfZb9HEBwDg86TN1KNprHjkfipXmEDMb0gSCassK5T3ZfxsAbcgKVmAIXF7oZ6ItlZZbXO6idTHE67IM007EwQ4uN3\");\n\n// // The items the customer wants to buy\n// const items = [{ id: \"xl-tshirt\" }];\n\n// let elements;\n\n// initialize();\n// checkStatus();\n\n// document\n//   .querySelector(\"#payment-form\")\n//   .addEventListener(\"submit\", handleSubmit);\n\n// let emailAddress = '';\n// // Fetches a payment intent and captures the client secret\n// async function initialize() {\n//   const response = await fetch(\"/create-payment-intent\", {\n//     method: \"POST\",\n//     headers: { \"Content-Type\": \"application/json\" },\n//     body: JSON.stringify({ items }),\n//   });\n//   const { clientSecret } = await response.json();\n\n//   const appearance = {\n//     theme: 'stripe',\n//   };\n//   elements = stripe.elements({ appearance, clientSecret });\n\n//   const linkAuthenticationElement = elements.create(\"linkAuthentication\");\n//   linkAuthenticationElement.mount(\"#link-authentication-element\");\n\n//   linkAuthenticationElement.on('change', (event) => {\n//     emailAddress = event.value.email;\n//   });\n\n//   const paymentElementOptions = {\n//     layout: \"tabs\",\n//   };\n\n//   const paymentElement = elements.create(\"payment\", paymentElementOptions);\n//   paymentElement.mount(\"#payment-element\");\n// }\n\n// async function handleSubmit(e) {\n//   e.preventDefault();\n//   setLoading(true);\n\n//   const { error } = await stripe.confirmPayment({\n//     elements,\n//     confirmParams: {\n//       // Make sure to change this to your payment completion page\n//       return_url: \"http://localhost:4242/checkout.html\",\n//       receipt_email: emailAddress,\n//     },\n//   });\n\n//   // This point will only be reached if there is an immediate error when\n//   // confirming the payment. Otherwise, your customer will be redirected to\n//   // your `return_url`. For some payment methods like iDEAL, your customer will\n//   // be redirected to an intermediate site first to authorize the payment, then\n//   // redirected to the `return_url`.\n//   if (error.type === \"card_error\" || error.type === \"validation_error\") {\n//     showMessage(error.message);\n//   } else {\n//     showMessage(\"An unexpected error occurred.\");\n//   }\n\n//   setLoading(false);\n// }\n\n// // Fetches the payment intent status after payment submission\n// async function checkStatus() {\n//   const clientSecret = new URLSearchParams(window.location.search).get(\n//     \"payment_intent_client_secret\"\n//   );\n\n//   if (!clientSecret) {\n//     return;\n//   }\n\n//   const { paymentIntent } = await stripe.retrievePaymentIntent(clientSecret);\n\n//   switch (paymentIntent.status) {\n//     case \"succeeded\":\n//       showMessage(\"Payment succeeded!\");\n//       break;\n//     case \"processing\":\n//       showMessage(\"Your payment is processing.\");\n//       break;\n//     case \"requires_payment_method\":\n//       showMessage(\"Your payment was not successful, please try again.\");\n//       break;\n//     default:\n//       showMessage(\"Something went wrong.\");\n//       break;\n//   }\n// }\n\n// // ------- UI helpers -------\n\n// function showMessage(messageText) {\n//   const messageContainer = document.querySelector(\"#payment-message\");\n\n//   messageContainer.classList.remove(\"hidden\");\n//   messageContainer.textContent = messageText;\n\n//   setTimeout(function () {\n//     messageContainer.classList.add(\"hidden\");\n//     messageContainer.textContent = \"\";\n//   }, 4000);\n// }\n\n// // Show a spinner on payment submission\n// function setLoading(isLoading) {\n//   if (isLoading) {\n//     // Disable the button and show a spinner\n//     document.querySelector(\"#submit\").disabled = true;\n//     document.querySelector(\"#spinner\").classList.remove(\"hidden\");\n//     document.querySelector(\"#button-text\").classList.add(\"hidden\");\n//   } else {\n//     document.querySelector(\"#submit\").disabled = false;\n//     document.querySelector(\"#spinner\").classList.add(\"hidden\");\n//     document.querySelector(\"#button-text\").classList.remove(\"hidden\");\n//   }\n// }\nvar _c;\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"names":["EmptyCart","React","useEffect","useState","Tick","ResetLocation","v4","uuidv4","Link","validateForm","type","jsxDEV","_jsxDEV","Payment","_ref","_s","cartItems","totalPayment","formValue","setFormValue","firstname","lastname","cardNumber","cvv","month","year","submit","setSubmit","formError","setFormError","transactionId","setTransactionId","validate","handleSubmit","e","preventDefault","console","log","timeStamp","Date","now","Object","keys","length","userToken","sessionStorage","getItem","couponCode","transacId","myHeaders","Headers","append","dataSend","JSON","stringify","transaction","transaction_id","coupons","coupon_code","requestOptions","method","headers","body","redirect","fetch","then","response","status","window","alert","location","href","ok","data","handleValidation","name","value","target","document","title","Fragment","children","className","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","to","onClick","viewBox","width","height","fill","d","onSubmit","onChange","placeholder","maxLength","autoComplete","id","max","_c","$RefreshReg$"],"sources":["/home/huntik/Desktop/pizza_proj/pizza-planet-project/src/routes/payment/Payment.js"],"sourcesContent":["import EmptyCart from \"../cart/EmptyCart.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Tick from \"../../assets/images/success-tick.png\";\nimport ResetLocation from \"../../helpers/ResetLocation\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { Link } from \"react-router-dom\";\nimport validateForm from \"../../components/validateForm\";\nimport { type } from \"@testing-library/user-event/dist/type/index.js\";\n\nconst Payment = ({ cartItems, totalPayment }) => {\n  const [formValue, setFormValue] = useState({\n    firstname: \"\",\n    lastname: \"\",\n    cardNumber: \"\",\n    cvv: \"\",\n    month: \"\",\n    year: \"\",\n  });\n  const [submit, setSubmit] = useState(false);\n  const [formError, setFormError] = useState({});\n  const [transactionId, setTransactionId] = useState(0);\n  const validate = validateForm(\"payment\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setFormError(validate(formValue));\n    console.log(validate(formValue));\n    const timeStamp = Date.now();\n\n    if (Object.keys(validate(formValue)).length > 0) {\n      return;\n    }\n    const userToken = sessionStorage.getItem(\"token\");\n    const couponCode = sessionStorage.getItem(\"coupon_code\");\n    console.log(userToken);\n    const transacId = `${timeStamp}`;\n    console.log(uuidv4());\n    setTransactionId(transacId);\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    myHeaders.append(\"Authorization\", `Bearer ${userToken}`);\n    console.log(transacId);\n    console.log(typeof transacId);\n    var dataSend = JSON.stringify({\n      transaction: {\n        transaction_id: transacId,\n      },\n      coupons: {\n        coupon_code: couponCode,\n      },\n    });\n\n    var requestOptions = {\n      method: \"POST\",\n      headers: myHeaders,\n      body: dataSend,\n      redirect: \"follow\",\n    };\n\n    fetch(\"http://localhost:8080/order/place\", requestOptions)\n      .then((response) => {\n        console.log(response.status);\n        if (response.status === 400) {\n          window.alert(\"No Kitchens Available in your Area!\");\n          window.location.href = \"/cart\";\n          return;\n        }\n        if (!response.ok) {\n          console.log(\"error\", response);\n          return;\n        }\n      })\n      .then((data) => {\n        console.log(data);\n        setSubmit(true);\n      });\n\n    ResetLocation();\n  };\n\n  const handleValidation = (e) => {\n    const { name, value } = e.target;\n    setFormValue({ ...formValue, [name]: value });\n  };\n\n  useEffect(() => {\n    document.title = \"Payment | Pizza Planet\";\n  }, []);\n  return (\n    <React.Fragment>\n      <main>\n        {submit && Object.keys(formError).length === 0 ? (\n          <article className=\"success-payment\">\n            <section className=\"success-payment-title\">\n              <h2>Your food is on the way!</h2>\n              <p>\n                Thank you for the order. We will update your order status once\n                the restaurant confirms it.{\" \"}\n              </p>\n            </section>\n            <img src={Tick} alt=\"\" aria-hidden=\"true\" />\n            <section className=\"payment-details\">\n              {/* <p>\n                Amount paid: <span>{totalPayment} $</span>\n              </p> */}\n              <p>\n                Transaction id: <span>{transactionId}</span>\n              </p>\n            </section>\n            <section className=\"success-payment-redirection\">\n              <Link\n                className=\"active-button-style\"\n                to=\"/profile\"\n                onClick={ResetLocation}\n              >\n                Visit Profile to Track your Orders\n              </Link>\n              <Link to=\"/menu\" onClick={ResetLocation}>\n                Order something else\n              </Link>\n            </section>\n          </article>\n        ) : (\n          <article className=\"choose-payment\">\n            <section className=\"card\">\n              <div className=\"front\">\n                <div className=\"strip-bottom\"></div>\n                <div className=\"strip-top\"></div>\n                <div className=\"chip\">\n                  <div className=\"chip-line\"></div>\n                  <div className=\"chip-line\"></div>\n                  <div className=\"chip-line\"></div>\n                  <div className=\"chip-line\"></div>\n                  <div className=\"chip-main\"></div>\n                </div>\n                <svg\n                  className=\"wave\"\n                  viewBox=\"0 3.71 26.959 38.787\"\n                  width=\"26.959\"\n                  height=\"38.787\"\n                  fill=\"white\"\n                >\n                  <path d=\"M19.709 3.719c.266.043.5.187.656.406 4.125 5.207 6.594 11.781 6.594 18.938 0 7.156-2.469 13.73-6.594 18.937-.195.336-.57.531-.957.492a.9946.9946 0 0 1-.851-.66c-.129-.367-.035-.777.246-1.051 3.855-4.867 6.156-11.023 6.156-17.718 0-6.696-2.301-12.852-6.156-17.719-.262-.317-.301-.762-.102-1.121.204-.36.602-.559 1.008-.504z\"></path>\n                  <path d=\"M13.74 7.563c.231.039.442.164.594.343 3.508 4.059 5.625 9.371 5.625 15.157 0 5.785-2.113 11.097-5.625 15.156-.363.422-1 .472-1.422.109-.422-.363-.472-1-.109-1.422 3.211-3.711 5.156-8.551 5.156-13.843 0-5.293-1.949-10.133-5.156-13.844-.27-.309-.324-.75-.141-1.114.188-.367.578-.582.985-.542h.093z\"></path>\n                  <path d=\"M7.584 11.438c.227.031.438.144.594.312 2.953 2.863 4.781 6.875 4.781 11.313 0 4.433-1.828 8.449-4.781 11.312-.398.387-1.035.383-1.422-.016-.387-.398-.383-1.035.016-1.421 2.582-2.504 4.187-5.993 4.187-9.875 0-3.883-1.605-7.372-4.187-9.875-.321-.282-.426-.739-.266-1.133.164-.395.559-.641.984-.617h.094zM1.178 15.531c.121.02.238.063.344.125 2.633 1.414 4.437 4.215 4.437 7.407 0 3.195-1.797 5.996-4.437 7.406-.492.258-1.102.07-1.36-.422-.257-.492-.07-1.102.422-1.359 2.012-1.075 3.375-3.176 3.375-5.625 0-2.446-1.371-4.551-3.375-5.625-.441-.204-.676-.692-.551-1.165.122-.468.567-.785 1.051-.742h.094z\"></path>\n                </svg>\n                <p className=\"card-number\">\n                  {formValue.cardNumber.length > 0\n                    ? `${formValue.cardNumber}`\n                    : \"0123456789101112\"}\n                </p>\n                <p className=\"end\">\n                  <span className=\"end-text\">exp. end:</span>\n                  <span className=\"end-date\">\n                    {\" \"}\n                    {formValue.month.length > 0\n                      ? `${formValue.month}`\n                      : \"11\"} /{\" \"}\n                    {formValue.year.length > 0 ? `${formValue.year}` : \"22\"}\n                  </span>\n                </p>\n                <p className=\"card-holder\">\n                  {\" \"}\n                  {formValue.firstname.length > 0\n                    ? `${formValue.firstname}`\n                    : \"Name\"}{\" \"}\n                  {formValue.lastname.length > 0\n                    ? `${formValue.lastname}`\n                    : \"Lastname\"}\n                </p>\n                <p className=\"end cvv-text\">\n                  CVV {formValue.cvv.length > 0 ? `${formValue.cvv}` : \"000\"}\n                </p>\n                <div className=\"master\">\n                  <div className=\"circle master-red\"></div>\n                  <div className=\"circle master-yellow\"></div>\n                </div>\n              </div>\n            </section>\n            <form onSubmit={handleSubmit} className=\"credit-card-form\">\n              <input\n                onChange={handleValidation}\n                value={formValue.firstname}\n                name=\"firstname\"\n                type=\"text\"\n                placeholder=\"First name\"\n              />\n              <span className=\"login-input-err\">{formError.firstname}</span>\n              <input\n                onChange={handleValidation}\n                value={formValue.lastname}\n                name=\"lastname\"\n                placeholder=\"Last name\"\n              />\n              <span className=\"login-input-err\">{formError.lastname}</span>\n              <input\n                onChange={handleValidation}\n                value={formValue.cardNumber}\n                name=\"cardNumber\"\n                placeholder=\"Card number\"\n                maxLength=\"16\"\n              />\n              <span className=\"login-input-err\">{formError.cardNumber}</span>\n              <section className=\"cvv-exp\">\n                <section className=\"cvv-input\">\n                  <input\n                    className=\"cvv\"\n                    onChange={handleValidation}\n                    value={formValue.cvv}\n                    name=\"cvv\"\n                    placeholder=\"CVV\"\n                    maxLength=\"3\"\n                  />\n                  <span className=\"login-input-err\"> {formError.cvv}</span>\n                </section>\n                <section className=\"date-input\">\n                  <div className=\"expiration-date\">\n                    <input\n                      autoComplete=\"off\"\n                      id=\"month\"\n                      name=\"month\"\n                      placeholder=\"MM\"\n                      type=\"text\"\n                      maxLength=\"2\"\n                      max=\"2\"\n                      onChange={handleValidation}\n                      value={formValue.month}\n                    />\n                    <input\n                      autoComplete=\"off\"\n                      id=\"year\"\n                      name=\"year\"\n                      placeholder=\"YY\"\n                      type=\"text\"\n                      maxLength=\"2\"\n                      max=\"2\"\n                      onChange={handleValidation}\n                      value={formValue.year}\n                    />\n                  </div>\n                  <span className=\"login-input-err\">{formError.year}</span>\n                </section>\n              </section>\n              <button type=\"submit\" className=\" active-button-style\">\n                Proceed\n              </button>\n            </form>\n          </article>\n        )}\n      </main>\n    </React.Fragment>\n  );\n};\n\nexport default Payment;\n\n// // This is a public sample test API key.\n// // Don’t submit any personally identifiable information in requests made with this key.\n// // Sign in to see your own test API key embedded in code samples.\n// const stripe = Stripe(\"pk_test_51BTUDGJAJfZb9HEBwDg86TN1KNprHjkfipXmEDMb0gSCassK5T3ZfxsAbcgKVmAIXF7oZ6ItlZZbXO6idTHE67IM007EwQ4uN3\");\n\n// // The items the customer wants to buy\n// const items = [{ id: \"xl-tshirt\" }];\n\n// let elements;\n\n// initialize();\n// checkStatus();\n\n// document\n//   .querySelector(\"#payment-form\")\n//   .addEventListener(\"submit\", handleSubmit);\n\n// let emailAddress = '';\n// // Fetches a payment intent and captures the client secret\n// async function initialize() {\n//   const response = await fetch(\"/create-payment-intent\", {\n//     method: \"POST\",\n//     headers: { \"Content-Type\": \"application/json\" },\n//     body: JSON.stringify({ items }),\n//   });\n//   const { clientSecret } = await response.json();\n\n//   const appearance = {\n//     theme: 'stripe',\n//   };\n//   elements = stripe.elements({ appearance, clientSecret });\n\n//   const linkAuthenticationElement = elements.create(\"linkAuthentication\");\n//   linkAuthenticationElement.mount(\"#link-authentication-element\");\n\n//   linkAuthenticationElement.on('change', (event) => {\n//     emailAddress = event.value.email;\n//   });\n\n//   const paymentElementOptions = {\n//     layout: \"tabs\",\n//   };\n\n//   const paymentElement = elements.create(\"payment\", paymentElementOptions);\n//   paymentElement.mount(\"#payment-element\");\n// }\n\n// async function handleSubmit(e) {\n//   e.preventDefault();\n//   setLoading(true);\n\n//   const { error } = await stripe.confirmPayment({\n//     elements,\n//     confirmParams: {\n//       // Make sure to change this to your payment completion page\n//       return_url: \"http://localhost:4242/checkout.html\",\n//       receipt_email: emailAddress,\n//     },\n//   });\n\n//   // This point will only be reached if there is an immediate error when\n//   // confirming the payment. Otherwise, your customer will be redirected to\n//   // your `return_url`. For some payment methods like iDEAL, your customer will\n//   // be redirected to an intermediate site first to authorize the payment, then\n//   // redirected to the `return_url`.\n//   if (error.type === \"card_error\" || error.type === \"validation_error\") {\n//     showMessage(error.message);\n//   } else {\n//     showMessage(\"An unexpected error occurred.\");\n//   }\n\n//   setLoading(false);\n// }\n\n// // Fetches the payment intent status after payment submission\n// async function checkStatus() {\n//   const clientSecret = new URLSearchParams(window.location.search).get(\n//     \"payment_intent_client_secret\"\n//   );\n\n//   if (!clientSecret) {\n//     return;\n//   }\n\n//   const { paymentIntent } = await stripe.retrievePaymentIntent(clientSecret);\n\n//   switch (paymentIntent.status) {\n//     case \"succeeded\":\n//       showMessage(\"Payment succeeded!\");\n//       break;\n//     case \"processing\":\n//       showMessage(\"Your payment is processing.\");\n//       break;\n//     case \"requires_payment_method\":\n//       showMessage(\"Your payment was not successful, please try again.\");\n//       break;\n//     default:\n//       showMessage(\"Something went wrong.\");\n//       break;\n//   }\n// }\n\n// // ------- UI helpers -------\n\n// function showMessage(messageText) {\n//   const messageContainer = document.querySelector(\"#payment-message\");\n\n//   messageContainer.classList.remove(\"hidden\");\n//   messageContainer.textContent = messageText;\n\n//   setTimeout(function () {\n//     messageContainer.classList.add(\"hidden\");\n//     messageContainer.textContent = \"\";\n//   }, 4000);\n// }\n\n// // Show a spinner on payment submission\n// function setLoading(isLoading) {\n//   if (isLoading) {\n//     // Disable the button and show a spinner\n//     document.querySelector(\"#submit\").disabled = true;\n//     document.querySelector(\"#spinner\").classList.remove(\"hidden\");\n//     document.querySelector(\"#button-text\").classList.add(\"hidden\");\n//   } else {\n//     document.querySelector(\"#submit\").disabled = false;\n//     document.querySelector(\"#spinner\").classList.add(\"hidden\");\n//     document.querySelector(\"#button-text\").classList.remove(\"hidden\");\n//   }\n// }\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}